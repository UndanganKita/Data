(function(g){var window=this;'use strict';var c8r=function(p,C){p.Qn("onAutonavCoundownStarted",C)},TAv=function(p){var C,V,N;
return p==null?void 0:(C=p.playerOverlays)==null?void 0:(V=C.playerOverlayRenderer)==null?void 0:(N=V.autoplay)==null?void 0:N.playerOverlayAutoplayRenderer},N0=function(p,C,V){g.Ed(p.element,"ytp-suggestion-set",!!C.videoId);
var N=C.playlistId;V=C.b8(V?V:"mqdefault.jpg");var H=null,X=null;C instanceof g.ls&&(C.lengthText?(H=C.lengthText||null,X=C.EA||null):C.lengthSeconds&&(H=g.Z7(C.lengthSeconds),X=g.Z7(C.lengthSeconds,!0)));var d=!!N;N=d&&g.aI(N).type==="RD";var a=C instanceof g.ls?C.isLivePlayback:null,E=C instanceof g.ls?C.isUpcoming:null,l=C.author,t=C.shortViewCount,c=C.publishedTimeText,T=[],M=[];l&&T.push(l);t&&(T.push(t),M.push(t));c&&M.push(c);V={title:C.title,author:l,author_and_views:T.join(" \u2022 "),aria_label:C.ariaLabel||
g.c8("Watch $TITLE",{TITLE:C.title}),duration:H,timestamp:X,url:C.Eh(),is_live:a,is_upcoming:E,is_list:d,is_mix:N,background:V?"background-image: url("+V+")":"",views_and_publish_time:M.join(" \u2022 "),autoplayAlternativeHeader:C.ZO};C instanceof g.Ej&&(V.playlist_length=C.playlistLength);p.update(V)},H9=function(p){var C=p.K(),V=C.S;
g.w.call(this,{L:"a",B:"ytp-autonav-suggestion-card",X:{href:"{{url}}",target:V?C.Z:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},j:[{L:"div",i_:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],X:{style:"{{background}}"},j:[{L:"div",X:{"aria-label":"{{timestamp}}"},i_:["ytp-autonav-timestamp"],Ak:"{{duration}}"},{L:"div",i_:["ytp-autonav-live-stamp"],Ak:"Live"},{L:"div",
i_:["ytp-autonav-upcoming-stamp"],Ak:"Upcoming"},{L:"div",B:"ytp-autonav-list-overlay",j:[{L:"div",B:"ytp-autonav-mix-text",Ak:"Mix"},{L:"div",B:"ytp-autonav-mix-icon"}]}]},{L:"div",i_:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],Ak:"{{title}}"},{L:"div",i_:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],Ak:"{{author}}"},{L:"div",i_:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],Ak:"{{views_and_publish_time}}"}]});this.N=p;this.suggestion=
null;this.T=V;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},Xb=function(p,C){C=C===void 0?!1:C;
g.w.call(this,{L:"div",B:"ytp-autonav-endscreen-countdown-overlay"});var V=this;this.D=C;this.cancelCommand=this.W=void 0;this.V=0;this.container=new g.w({L:"div",B:"ytp-autonav-endscreen-countdown-container"});g.R(this,this.container);this.container.u_(this.element);C=p.K();var N=C.S;this.N=p;this.suggestion=null;this.onVideoDataChange("newdata",this.N.getVideoData());this.U(p,"videodatachange",this.onVideoDataChange);this.T=new g.w({L:"div",B:"ytp-autonav-endscreen-upnext-container",X:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},j:[{L:"div",B:"ytp-autonav-endscreen-upnext-header"},{L:"div",B:"ytp-autonav-endscreen-upnext-alternative-header",Ak:"{{autoplayAlternativeHeader}}"},{L:"a",B:"ytp-autonav-endscreen-link-container",X:{href:"{{url}}",target:N?C.Z:""},j:[{L:"div",B:"ytp-autonav-endscreen-upnext-thumbnail",X:{style:"{{background}}"},j:[{L:"div",X:{"aria-label":"{{timestamp}}"},i_:["ytp-autonav-timestamp"],
Ak:"{{duration}}"},{L:"div",i_:["ytp-autonav-live-stamp"],Ak:"Live"},{L:"div",i_:["ytp-autonav-upcoming-stamp"],Ak:"Upcoming"}]},{L:"div",B:"ytp-autonav-endscreen-video-info",j:[{L:"div",B:"ytp-autonav-endscreen-premium-badge"},{L:"div",B:"ytp-autonav-endscreen-upnext-title",Ak:"{{title}}"},{L:"div",B:"ytp-autonav-endscreen-upnext-author",Ak:"{{author}}"},{L:"div",B:"ytp-autonav-view-and-date",Ak:"{{views_and_publish_time}}"},{L:"div",B:"ytp-autonav-author-and-view",Ak:"{{author_and_views}}"}]}]}]});
g.R(this,this.T);this.T.u_(this.container.element);N||this.U(this.T.rV("ytp-autonav-endscreen-link-container"),"click",this.Mv);this.N.createClientVe(this.container.element,this,115127);this.N.createClientVe(this.T.rV("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.w({L:"div",B:"ytp-autonav-overlay"});g.R(this,this.overlay);this.overlay.u_(this.container.element);this.C=new g.w({L:"div",B:"ytp-autonav-endscreen-button-container"});g.R(this,this.C);this.C.u_(this.container.element);
this.cancelButton=new g.w({L:"button",i_:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button",C.G("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],X:{"aria-label":"Cancel autoplay"},Ak:"Cancel"});g.R(this,this.cancelButton);this.cancelButton.u_(this.C.element);this.cancelButton.listen("click",this.z_,this);this.N.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.w({L:"a",i_:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
C.G("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],X:{href:"{{url}}",role:"button","aria-label":"Play next video"},Ak:"Play Now"});g.R(this,this.playButton);this.playButton.u_(this.C.element);this.playButton.listen("click",this.Mv,this);this.N.createServerVe(this.playButton.element,this.playButton,!0);(C=this.N.getVideoData())&&MSE(this,C);this.S=new g.pg(function(){J88(V)},500);
g.R(this,this.S);this.cH();this.U(p,"autonavvisibility",this.cH);this.N.G("web_autonav_color_transition")&&(this.U(p,"autonavchange",this.vT),this.U(p,"onAutonavCoundownStarted",this.Gko))},dp=function(p){var C=p.N.zA(!0,p.N.isFullscreen());
g.Ed(p.container.element,"ytp-autonav-endscreen-small-mode",p.Qf(C));g.Ed(p.container.element,"ytp-autonav-endscreen-is-premium",!!p.suggestion&&!!p.suggestion.h5n);g.Ed(p.N.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!p.N.lW());g.Ed(p.N.getRootNode(),"countdown-running",p.fM());g.Ed(p.container.element,"ytp-player-content",p.N.lW());g.Jx(p.overlay.element,{width:C.width+"px"});if(!p.fM()){p.N.lW()?m7F(p,Math.round(v7y(p)/1E3)):m7F(p);C=!!p.suggestion&&!!p.suggestion.ZO;var V=p.N.lW()||
!C;g.Ed(p.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!V&&C);g.Ed(p.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",V&&!C);p.C.F0(p.N.lW());g.Ed(p.element,"ytp-enable-w2w-color-transitions",FoP(p))}},J88=function(p){var C=v7y(p),V=Math,N=V.min;
var H=p.V?Date.now()-p.V:0;V=N.call(V,H,C);m7F(p,Math.ceil((C-V)/1E3));C-V<=500&&p.fM()?p.select(!0):p.fM()&&p.S.start()},v7y=function(p){if(p.N.isFullscreen()){var C;
p=(C=p.N.getVideoData())==null?void 0:C.Xs;return p===-1||p===void 0?8E3:p}return p.N.Lv()>=0?p.N.Lv():g.a3(p.N.K().experiments,"autoplay_time")||1E4},MSE=function(p,C){C=C.getWatchNextResponse();
var V,N;C=(V=TAv(C))==null?void 0:(N=V.nextButton)==null?void 0:N.buttonRenderer;p.W=C==null?void 0:C.navigationEndpoint;V=C==null?void 0:C.trackingParams;p.playButton&&V&&p.N.setTrackingParams(p.playButton.element,V)},FoP=function(p){var C;
return!((C=p.N.getVideoData())==null||!C.watchToWatchTransitionRenderer)},m7F=function(p,C){C=C===void 0?-1:C;
p=p.T.rV("ytp-autonav-endscreen-upnext-header");g.XQ(p);if(C>=0){C=String(C);var V="Up next in $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],N="Up next in $SECONDS".indexOf(V);if(N>=0){p.appendChild(g.Nq("Up next in $SECONDS".slice(0,N)));var H=g.Vf("span");g.XV(H,"ytp-autonav-endscreen-upnext-header-countdown-number");g.so(H,C);p.appendChild(H);p.appendChild(g.Nq("Up next in $SECONDS".slice(N+V.length)));return}}g.so(p,"Up next")},iA=function(p,C){g.w.call(this,{L:"div",
i_:["html5-endscreen","ytp-player-content",C||"base-endscreen"]});this.created=!1;this.player=p},hi=function(p){g.w.call(this,{L:"div",
i_:["ytp-upnext","ytp-player-content"],X:{"aria-label":"{{aria_label}}"},j:[{L:"div",B:"ytp-cued-thumbnail-overlay-image",X:{style:"{{background}}"}},{L:"span",B:"ytp-upnext-top",j:[{L:"span",B:"ytp-upnext-header",Ak:"Up Next"},{L:"span",B:"ytp-upnext-title",Ak:"{{title}}"},{L:"span",B:"ytp-upnext-author",Ak:"{{author}}"}]},{L:"a",B:"ytp-upnext-autoplay-icon",X:{role:"button",href:"{{url}}","aria-label":"Play next video"},j:[{L:"svg",X:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},
j:[{L:"circle",B:"ytp-svg-autoplay-circle",X:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{L:"circle",B:"ytp-svg-autoplay-ring",X:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{L:"path",B:"ytp-svg-fill",X:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{L:"span",B:"ytp-upnext-bottom",j:[{L:"span",B:"ytp-upnext-cancel"},{L:"span",B:"ytp-upnext-paused",
Ak:"Autoplay is paused"}]}]});this.api=p;this.cancelButton=null;this.W=this.rV("ytp-svg-autoplay-ring");this.V=this.notification=this.T=this.suggestion=null;this.S=new g.pg(this.Z8,5E3,this);this.C=0;var C=this.rV("ytp-upnext-cancel");this.cancelButton=new g.w({L:"button",i_:["ytp-upnext-cancel-button","ytp-button"],X:{tabindex:"0","aria-label":"Cancel autoplay"},Ak:"Cancel"});g.R(this,this.cancelButton);this.cancelButton.listen("click",this.iD,this);this.cancelButton.u_(C);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,
this,115129);g.R(this,this.S);this.api.createClientVe(this.element,this,18788);C=this.rV("ytp-upnext-autoplay-icon");this.U(C,"click",this.fb);this.api.createClientVe(C,this,115130);this.Z2();this.U(p,"autonavvisibility",this.Z2);this.U(p,"mdxnowautoplaying",this.IEn);this.U(p,"mdxautoplaycanceled",this.rc_);g.Ed(this.element,"ytp-upnext-mobile",this.api.K().C)},S8c=function(p,C){if(C)return C;
if(p.api.isFullscreen()){var V;p=(V=p.api.getVideoData())==null?void 0:V.Xs;return p===-1||p===void 0?8E3:p}return p.api.Lv()>=0?p.api.Lv():g.a3(p.api.K().experiments,"autoplay_time")||1E4},Koy=function(p,C){C=S8c(p,C);
var V=Math,N=V.min;var H=(0,g.f3)()-p.C;V=N.call(V,H,C);C=C===0?1:Math.min(V/C,1);p.W.setAttribute("stroke-dashoffset",""+-211*(C+1));C>=1&&p.fM()&&p.api.getPresentingPlayerType()!==3?p.select(!0):p.fM()&&p.T.start()},sP=function(p){iA.call(this,p,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.w({L:"div",B:"ytp-suggestion-panel",j:[{L:"div",i_:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],Ak:"More videos"}]});this.J=new g.w({L:"div",B:"ytp-suggestions-container"});this.videos=[];this.V=null;this.W=this.D=!1;this.C=new Xb(this.player);g.R(this,this.C);this.C.u_(this.element);p.getVideoData().qg?this.T=this.C:(this.T=new hi(p),g.R$(this.player,this.T.element,4),g.R(this,this.T));this.overlay=new g.w({L:"div",
B:"ytp-autonav-overlay-cancelled-state"});g.R(this,this.overlay);this.overlay.u_(this.element);this.S=new g.Ir(this);g.R(this,this.S);g.R(this,this.table);this.table.u_(this.element);this.table.show();g.R(this,this.J);this.J.u_(this.table.element);this.hide()},aU=function(p){var C=p.lW();
C!==p.W&&(p.W=C,p.player.publish("autonavvisibility"),p.W?(p.C!==p.T&&p.C.hide(),p.table.hide()):(p.C!==p.T&&p.C.show(),p.table.show()))},EP=function(p,C){g.w.call(this,{L:"button",
i_:["ytp-watch-on-youtube-button","ytp-button"],Ak:"{{content}}"});this.N=p;this.buttonType=this.buttonType=C;this.nY();this.buttonType===2&&g.iI(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.nY);this.F0(!0)},lA=function(p,C){iA.call(this,p,"embeds-lite-endscreen");
this.N=p;this.T=C;this.N.createClientVe(this.element,this,156943);this.watchButton=new EP(p,2);g.R(this,this.watchButton);this.watchButton.u_(this.element);this.hide()},D7c=function(p){iA.call(this,p,"subscribecard-endscreen");
this.T=new g.w({L:"div",B:"ytp-subscribe-card",j:[{L:"img",B:"ytp-author-image",X:{src:"{{profilePicture}}"}},{L:"div",B:"ytp-subscribe-card-right",j:[{L:"div",B:"ytp-author-name",Ak:"{{author}}"},{L:"div",B:"html5-subscribe-button-container"}]}]});g.R(this,this.T);this.T.u_(this.element);var C=p.getVideoData();this.subscribeButton=new g.ae("Subscribe",null,"Unsubscribe",null,!0,!1,C.Qv,C.subscribed,"trailer-endscreen",null,p,!1);g.R(this,this.subscribeButton);this.subscribeButton.u_(this.T.rV("html5-subscribe-button-container"));
this.U(p,"videodatachange",this.Pr);this.Pr();this.hide()},ti=function(p){var C=p.K(),V=g.fR||g.cg?{style:"will-change: opacity"}:void 0,N=C.S,H=["ytp-videowall-still"];
C.C&&H.push("ytp-videowall-show-text");g.w.call(this,{L:"a",i_:H,X:{href:"{{url}}",target:N?C.Z:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},j:[{L:"div",B:"ytp-videowall-still-image",X:{style:"{{background}}"}},{L:"span",B:"ytp-videowall-still-info",X:{"aria-hidden":"true"},j:[{L:"span",B:"ytp-videowall-still-info-bg",j:[{L:"span",B:"ytp-videowall-still-info-content",X:V,j:[{L:"span",B:"ytp-videowall-still-info-title",Ak:"{{title}}"},
{L:"span",B:"ytp-videowall-still-info-author",Ak:"{{author_and_views}}"},{L:"span",B:"ytp-videowall-still-info-live",Ak:"Live"},{L:"span",B:"ytp-videowall-still-info-duration",Ak:"{{duration}}"}]}]}]},{L:"span",i_:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],X:{"aria-hidden":"true"},j:[{L:"span",B:"ytp-videowall-still-listlabel-icon"},"Playlist",{L:"span",B:"ytp-videowall-still-listlabel-length",j:[" (",{L:"span",Ak:"{{playlist_length}}"},")"]}]},{L:"span",i_:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],X:{"aria-hidden":"true"},j:[{L:"span",B:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{L:"span",B:"ytp-videowall-still-listlabel-length",Ak:" (50+)"}]}]});this.suggestion=null;this.C=N;this.api=p;this.T=new g.Ir(this);g.R(this,this.T);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.T.U(p,"videodatachange",this.onVideoDataChange);p.createServerVe(this.element,this);this.onVideoDataChange()},c9=function(p){iA.call(this,p,"videowall-endscreen");
var C=this;this.N=p;this.V=0;this.stills=[];this.S=this.videoData=null;this.W=this.J=!1;this.Z=null;this.C=new g.Ir(this);g.R(this,this.C);this.D=new g.pg(function(){g.iI(C.element,"ytp-show-tiles")},0);
g.R(this,this.D);var V=new g.w({L:"button",i_:["ytp-button","ytp-endscreen-previous"],X:{"aria-label":"Previous"},j:[g.va()]});g.R(this,V);V.u_(this.element);V.listen("click",this.eC,this);this.table=new g.aS({L:"div",B:"ytp-endscreen-content"});g.R(this,this.table);this.table.u_(this.element);V=new g.w({L:"button",i_:["ytp-button","ytp-endscreen-next"],X:{"aria-label":"Next"},j:[g.Fi()]});g.R(this,V);V.u_(this.element);V.listen("click",this.G_,this);p.getVideoData().qg?this.T=new Xb(p,!0):this.T=
new hi(p);g.R(this,this.T);g.R$(this.player,this.T.element,4);p.createClientVe(this.element,this,158789);this.hide()},Ta=function(p){return g.nT(p.player)&&p.po()&&!p.S},M0=function(p){var C=p.lW();
C!==p.J&&(p.J=C,p.player.publish("autonavvisibility"))},Ji=function(p){iA.call(this,p,"watch-again-on-youtube-endscreen");
this.watchButton=new EP(p,1);g.R(this,this.watchButton);this.watchButton.u_(this.element);g.cve(p)&&(this.T=new g.Bq(p),g.R(this,this.T),this.C=new g.w({L:"div",i_:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],X:{tabIndex:"-1"},j:[this.T]}),g.R(this,this.C),this.T.u_(this.C.element),this.C.u_(this.element));p.createClientVe(this.element,this,156914);this.hide()},fC1=function(p){g.qA.call(this,p);
var C=this;this.endScreen=null;this.C=this.T=this.V=this.S=!1;this.listeners=new g.Ir(this);g.R(this,this.listeners);var V=p.K(),N=p.getVideoData();N=N&&N.limitedPlaybackDurationInSeconds!==0;g.a_(g.ZW(V))&&N&&!g.kj(p)?(this.C=!0,this.endScreen=new lA(p,g.FE(p))):p.isEmbedsShortsMode()?this.endScreen=new Ji(p):uup(p)?(this.S=!0,ZJc(this),this.T?this.endScreen=new sP(p):this.endScreen=new c9(p)):V.Mn?this.endScreen=new D7c(p):this.endScreen=new iA(p);g.R(this,this.endScreen);g.R$(p,this.endScreen.element,
4);U7r(this);this.listeners.U(p,"videodatachange",this.onVideoDataChange,this);this.listeners.U(p,g.No("endscreen"),function(H){C.onCueRangeEnter(H)});
this.listeners.U(p,g.H8("endscreen"),function(H){C.onCueRangeExit(H)})},ZJc=function(p){var C=p.player.getVideoData();
if(!C||p.T===C.Fx&&p.V===C.qg)return!1;p.T=C.Fx;p.V=C.qg;return!0},uup=function(p){p=p.K();
return p.QZ&&!p.Mn&&!p.disableOrganicUi},U7r=function(p){p.player.p7("endscreen");
var C=p.player.getVideoData();C=new g.jY(Math.max((C.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var V=new g.jY(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});p.player.d7([C,V])};
g.I$.prototype.Lv=g.Ns(14,function(){return this.app.Lv()});
g.FR.prototype.Lv=g.Ns(13,function(){return this.getVideoData().Hd});
g.fT.prototype.NG=g.Ns(12,function(p){this.SU().NG(p)});
g.UR.prototype.NG=g.Ns(11,function(p){this.T!==p&&(this.T=p,this.Pr())});
g.Ao.prototype.NG=g.Ns(10,function(p){this.overflowButton&&this.overflowButton.NG(p)});
g.fT.prototype.Gf=g.Ns(9,function(p){this.SU().Gf(p)});
g.Ie.prototype.Gf=g.Ns(8,function(p){this.C!==p&&(this.C=p,this.Pr())});
g.Ao.prototype.Gf=g.Ns(7,function(p){this.shareButton&&this.shareButton.Gf(p)});
g.fT.prototype.zy=g.Ns(6,function(p){this.SU().zy(p)});
g.Nd.prototype.zy=g.Ns(5,function(p){this.vN!==p&&(this.vN=p,this.ZI())});
g.fT.prototype.vx=g.Ns(4,function(p){this.SU().vx(p)});
g.Ao.prototype.vx=g.Ns(3,function(p){this.mX!==p&&(this.mX=p,this.Mr())});g.v(H9,g.w);H9.prototype.select=function(){this.N.vP(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.sS||void 0)&&this.N.logClick(this.element)};
H9.prototype.onClick=function(p){g.EO(p,this.N,this.T,this.suggestion.sessionData||void 0)&&this.select()};
H9.prototype.onKeyPress=function(p){switch(p.keyCode){case 13:case 32:p.defaultPrevented||(this.select(),p.preventDefault())}};g.v(Xb,g.w);g.h=Xb.prototype;g.h.MF=function(p){this.suggestion!==p&&(this.suggestion=p,N0(this.T,p),this.playButton.updateValue("url",this.suggestion.Eh()),dp(this))};
g.h.fM=function(){return this.V>0};
g.h.eD=function(){this.fM()||(this.V=Date.now(),J88(this),c8r(this.N,v7y(this)),g.Ed(this.N.getRootNode(),"countdown-running",this.fM()))};
g.h.Fb=function(){this.QP();J88(this);var p=this.T.rV("ytp-autonav-endscreen-upnext-header");p&&g.so(p,"Up next")};
g.h.QP=function(){this.fM()&&(this.S.stop(),this.V=0)};
g.h.select=function(p){this.N.nextVideo(!1,p===void 0?!1:p);this.QP()};
g.h.Mv=function(p){g.EO(p,this.N)&&(p.currentTarget===this.playButton.element?this.N.logClick(this.playButton.element):p.currentTarget===this.T.rV("ytp-autonav-endscreen-link-container")&&(p=this.T.rV("ytp-autonav-endscreen-link-container"),this.N.logVisibility(p,!0),this.N.logClick(p)),this.W?(this.N.Qn("innertubeCommand",this.W),this.QP()):this.select())};
g.h.z_=function(){this.N.logClick(this.cancelButton.element);g.A_(this.N,!0);this.cancelCommand&&this.N.Qn("innertubeCommand",this.cancelCommand)};
g.h.onVideoDataChange=function(p,C){MSE(this,C);p=C.getWatchNextResponse();var V,N;p=(V=TAv(p))==null?void 0:(N=V.cancelButton)==null?void 0:N.buttonRenderer;this.cancelCommand=p==null?void 0:p.command};
g.h.Gko=function(p){if(FoP(this)){var C=this.N.getVideoData().watchToWatchTransitionRenderer,V=C==null?void 0:C.fromColorPaletteDark;C=C==null?void 0:C.toColorPaletteDark;if(V&&C){var N=this.element;N.style.setProperty("--w2w-start-background-color",g.nt(V.surgeColor));N.style.setProperty("--w2w-start-primary-text-color",g.nt(V.primaryTitleColor));N.style.setProperty("--w2w-start-secondary-text-color",g.nt(V.secondaryTitleColor));N.style.setProperty("--w2w-end-background-color",g.nt(C.surgeColor));
N.style.setProperty("--w2w-end-primary-text-color",g.nt(C.primaryTitleColor));N.style.setProperty("--w2w-end-secondary-text-color",g.nt(C.secondaryTitleColor));N.style.setProperty("--w2w-animation-duration",p+"ms")}g.Ed(this.element,"ytp-w2w-animate",!0)}};
g.h.vT=function(p){this.N.G("web_autonav_color_transition")&&p!==2&&g.Ed(this.element,"ytp-w2w-animate",!1)};
g.h.cH=function(){var p=this.N.lW();this.D&&this.n4!==p&&this.F0(p);dp(this);this.N.logVisibility(this.container.element,p);this.N.logVisibility(this.cancelButton.element,p);this.N.logVisibility(this.T.rV("ytp-autonav-endscreen-link-container"),p);this.N.logVisibility(this.playButton.element,p)};
g.h.Qf=function(p){return p.width<400||p.height<459};g.v(iA,g.w);g.h=iA.prototype;g.h.create=function(){this.created=!0};
g.h.destroy=function(){this.created=!1};
g.h.po=function(){return!1};
g.h.lW=function(){return!1};
g.h.s3=function(){return!1};g.v(hi,g.w);g.h=hi.prototype;g.h.Z8=function(){this.notification&&(this.S.stop(),this.rY(this.V),this.V=null,this.notification.close(),this.notification=null)};
g.h.MF=function(p){this.suggestion=p;N0(this,p,"hqdefault.jpg")};
g.h.Z2=function(){this.F0(this.api.lW());this.api.logVisibility(this.element,this.api.lW());this.api.logVisibility(this.rV("ytp-upnext-autoplay-icon"),this.api.lW());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.lW())};
g.h.i1k=function(){window.focus();this.Z8()};
g.h.eD=function(p){var C=this;this.fM()||(g.t3("a11y-announce","Up Next "+this.suggestion.title),this.C=(0,g.f3)(),this.T=new g.pg(function(){Koy(C,p)},25),Koy(this,p),c8r(this.api,S8c(this,p)));
g.sd(this.element,"ytp-upnext-autoplay-paused")};
g.h.hide=function(){g.w.prototype.hide.call(this)};
g.h.fM=function(){return!!this.T};
g.h.Fb=function(){this.QP();this.C=(0,g.f3)();Koy(this);g.iI(this.element,"ytp-upnext-autoplay-paused")};
g.h.QP=function(){this.fM()&&(this.T.dispose(),this.T=null)};
g.h.select=function(p){p=p===void 0?!1:p;if(this.api.K().G("autonav_notifications")&&p&&window.Notification&&typeof document.hasFocus==="function"){var C=Notification.permission;C==="default"?Notification.requestPermission():C!=="granted"||document.hasFocus()||(this.Z8(),this.notification=new Notification("Up Next",{body:this.suggestion.title,icon:this.suggestion.b8()}),this.V=this.U(this.notification,"click",this.i1k),this.S.start())}this.QP();this.api.nextVideo(!1,p)};
g.h.fb=function(p){!g.h2(this.cancelButton.element,p.target)&&g.EO(p,this.api)&&(this.api.lW()&&this.api.logClick(this.rV("ytp-upnext-autoplay-icon")),this.select())};
g.h.iD=function(){this.api.lW()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.A_(this.api,!0)};
g.h.IEn=function(p){this.api.getPresentingPlayerType();this.show();this.eD(p)};
g.h.rc_=function(){this.api.getPresentingPlayerType();this.QP();this.hide()};
g.h.CS=function(){this.QP();this.Z8();g.w.prototype.CS.call(this)};g.v(sP,iA);g.h=sP.prototype;g.h.create=function(){iA.prototype.create.call(this);this.S.U(this.player,"appresize",this.r3);this.S.U(this.player,"onVideoAreaChange",this.r3);this.S.U(this.player,"videodatachange",this.onVideoDataChange);this.S.U(this.player,"autonavchange",this.yc);this.S.U(this.player,"onAutonavCancelled",this.Lb);this.onVideoDataChange()};
g.h.show=function(){iA.prototype.show.call(this);(this.D||this.V&&this.V!==this.videoData.clientPlaybackNonce)&&g.A_(this.player,!1);g.nT(this.player)&&this.po()&&!this.V?(aU(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.T.select(!0):this.T.eD():this.videoData.autonavState===3&&this.T.Fb()):(g.A_(this.player,!0),aU(this));this.r3()};
g.h.hide=function(){iA.prototype.hide.call(this);this.T.Fb();aU(this)};
g.h.r3=function(){var p=this.player.zA(!0,this.player.isFullscreen());aU(this);dp(this.C);g.Ed(this.element,"ytp-autonav-cancelled-small-mode",this.Qf(p));g.Ed(this.element,"ytp-autonav-cancelled-tiny-mode",this.Bu(p));g.Ed(this.element,"ytp-autonav-cancelled-mini-mode",p.width<=400||p.height<=360);this.overlay&&g.Jx(this.overlay.element,{width:p.width+"px"});if(!this.W)for(p=0;p<this.videos.length;p++)g.Ed(this.videos[p].element,"ytp-suggestion-card-with-margin",p%2===1)};
g.h.onVideoDataChange=function(){var p=this.player.getVideoData();if(this.videoData!==p&&p){this.videoData=p;if((p=this.videoData.suggestions)&&p.length||this.player.G("web_player_autonav_empty_suggestions_fix")){var C=g.B7(this.videoData);C&&(this.T.MF(C),this.T!==this.C&&this.C.MF(C))}if(p&&p.length)for(C=0;C<OJ2.length;++C){var V=OJ2[C];if(p&&p[V]){this.videos[C]=new H9(this.player);var N=this.videos[C];V=p[V];N.suggestion!==V&&(N.suggestion=V,N0(N,V));g.R(this,this.videos[C]);this.videos[C].u_(this.J.element)}}this.r3()}};
g.h.yc=function(p){p===1?(this.D=!1,this.V=this.videoData.clientPlaybackNonce,this.T.QP(),this.n4&&this.r3()):(this.D=!0,this.lW()&&(p===2?this.T.eD():p===3&&this.T.Fb()))};
g.h.Lb=function(p){p?this.yc(1):(this.V=null,this.D=!1)};
g.h.po=function(){return this.videoData.autonavState!==1};
g.h.Qf=function(p){return(p.width<910||p.height<459)&&!this.Bu(p)&&!(p.width<=400||p.height<=360)};
g.h.Bu=function(p){return p.width<800&&!(p.width<=400||p.height<=360)};
g.h.lW=function(){return this.n4&&g.nT(this.player)&&this.po()&&!this.V};
var OJ2=[1,3,2,4];g.v(EP,g.w);g.h=EP.prototype;g.h.nY=function(){switch(this.buttonType){case 1:var p="Watch again on YouTube";var C=156915;break;case 2:p="Continue watching on YouTube";C=156942;break;default:p="Continue watching on YouTube",C=156942}this.update({content:p});this.N.hasVe(this.element)&&this.N.destroyVe(this.element);this.N.createClientVe(this.element,this,C)};
g.h.onClick=function(p){this.N.G("web_player_log_click_before_generating_ve_conversion_params")&&this.N.logClick(this.element);g.lT(this.getVideoUrl(),this.N,p);this.N.G("web_player_log_click_before_generating_ve_conversion_params")||this.N.logClick(this.element)};
g.h.getVideoUrl=function(){var p=!0;switch(this.buttonType){case 1:p=!0;break;case 2:p=!1}p=this.N.getVideoUrl(p,!1,!1,!0);var C=this.N.K();if(g.Mn(C)){var V={};g.Mn(C)&&g.TC(this.N,"addEmbedsConversionTrackingParams",[V]);p=g.gA(p,V)}return p};
g.h.logVisibility=function(){this.N.logVisibility(this.element,this.n4&&this.Y)};
g.h.show=function(){g.w.prototype.show.call(this);this.logVisibility()};
g.h.hide=function(){g.w.prototype.hide.call(this);this.logVisibility()};
g.h.RH=function(p){g.w.prototype.RH.call(this,p);this.logVisibility()};g.v(lA,iA);lA.prototype.show=function(){this.player.getPlayerState()!==3&&(iA.prototype.show.call(this),this.T.vx(!0),this.T.Gf(!0),this.N.K().qt||this.T.NG(!0),this.N.logVisibility(this.element,!0),this.watchButton.RH(!0))};
lA.prototype.hide=function(){iA.prototype.hide.call(this);this.T.vx(!1);this.T.Gf(!1);this.T.NG(!1);this.N.logVisibility(this.element,!1);this.watchButton.RH(!1)};g.v(D7c,iA);D7c.prototype.Pr=function(){var p=this.player.getVideoData();this.T.update({profilePicture:p.profilePicture,author:p.author});this.subscribeButton.channelId=p.Qv;var C=this.subscribeButton;p.subscribed?C.T():C.C()};g.v(ti,g.w);ti.prototype.select=function(){this.api.vP(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.sS||void 0)&&this.api.logClick(this.element)};
ti.prototype.onClick=function(p){if(g.Mn(this.api.K())&&this.api.G("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var C=this.suggestion.Eh(),V={};g.xj(this.api,V);C=g.gA(C,V);g.lT(C,this.api,p)}else g.EO(p,this.api,this.C,this.suggestion.sessionData||void 0)&&this.select()};
ti.prototype.onKeyPress=function(p){switch(p.keyCode){case 13:case 32:p.defaultPrevented||(this.select(),p.preventDefault())}};
ti.prototype.onVideoDataChange=function(){var p=this.api.getVideoData(),C=this.api.K();this.C=p.OV?!1:C.S};g.v(c9,iA);g.h=c9.prototype;g.h.create=function(){iA.prototype.create.call(this);var p=this.player.getVideoData();p&&(this.videoData=p);this.xE();this.C.U(this.player,"appresize",this.xE);this.C.U(this.player,"onVideoAreaChange",this.xE);this.C.U(this.player,"videodatachange",this.onVideoDataChange);this.C.U(this.player,"autonavchange",this.s9);this.C.U(this.player,"onAutonavCancelled",this.Nx);p=this.videoData.autonavState;p!==this.Z&&this.s9(p);this.C.U(this.element,"transitionend",this.Utn)};
g.h.destroy=function(){g.yc(this.C);g.aF(this.stills);this.stills=[];iA.prototype.destroy.call(this);g.sd(this.element,"ytp-show-tiles");this.D.stop();this.Z=this.videoData.autonavState};
g.h.po=function(){return this.videoData.autonavState!==1};
g.h.show=function(){var p=this.n4;iA.prototype.show.call(this);g.sd(this.element,"ytp-show-tiles");this.player.K().C?g.jJ(this.D):this.D.start();(this.W||this.S&&this.S!==this.videoData.clientPlaybackNonce)&&g.A_(this.player,!1);Ta(this)?(M0(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.T.select(!0):this.T.eD():this.videoData.autonavState===3&&this.T.Fb()):(g.A_(this.player,!0),M0(this));p!==this.n4&&this.player.logVisibility(this.element,!0)};
g.h.hide=function(){var p=this.n4;iA.prototype.hide.call(this);this.T.Fb();M0(this);p!==this.n4&&this.player.logVisibility(this.element,!1)};
g.h.Utn=function(p){p.target===this.element&&this.xE()};
g.h.xE=function(){var p,C,V,N;var H=((p=this.videoData)==null?0:(C=p.suggestions)==null?0:C.length)?(V=this.videoData)==null?void 0:V.suggestions:[(N=this.videoData)==null?void 0:g.B7(N)];if(H.length){g.iI(this.element,"ytp-endscreen-paginate");var X=this.N.zA(!0,this.N.isFullscreen());if(p=g.FE(this.N))p=p.P6()?48:32,X.width-=p*2;var d=X.width/X.height;N=96/54;C=p=2;var a=Math.max(X.width/96,2),E=Math.max(X.height/54,2);V=H.length;var l=V*4;for(l-=4;l>0&&(p<a||C<E);){var t=p/2,c=C/2,T=p<=a-2&&l>=
c*4,M=C<=E-2&&l>=t*4;if((t+1)/c*N/d>d/(t/(c+1)*N)&&M)l-=t*4,C+=2;else if(T)l-=c*4,p+=2;else if(M)l-=t*4,C+=2;else break}N=!1;l>=12&&V*4-l<=6&&(C>=4||p>=4)&&(N=!0);l=p*96;a=C*54;d=l/a<d?X.height/a:X.width/l;d=Math.min(d,2);l=Math.floor(Math.min(X.width,l*d));a=Math.floor(Math.min(X.height,a*d));X=this.table.element;X.ariaLive="polite";g.f2(X,l,a);g.Jx(X,{marginLeft:l/-2+"px",marginTop:a/-2+"px"});this.T.MF(g.B7(this.videoData));this.T instanceof Xb&&dp(this.T);g.Ed(this.element,"ytp-endscreen-takeover",
Ta(this));M0(this);l+=4;a+=4;d=0;X.ariaBusy="true";for(E=0;E<p;E++)for(t=0;t<C;t++)if(c=d,M=0,N&&E>=p-2&&t>=C-2?M=1:t%2===0&&E%2===0&&(t<2&&E<2?t===0&&E===0&&(M=2):M=2),c=g.lc(c+this.V,V),M!==0){T=this.stills[d];T||(T=new ti(this.player),this.stills[d]=T,X.appendChild(T.element));var J=Math.floor(a*t/C),S=Math.floor(l*E/p),D=Math.floor(a*(t+M)/C)-J-4,Z=Math.floor(l*(E+M)/p)-S-4;g.Do(T.element,S,J);g.f2(T.element,Z,D);g.Jx(T.element,"transitionDelay",(t+E)/20+"s");g.Ed(T.element,"ytp-videowall-still-mini",
M===1);g.Ed(T.element,"ytp-videowall-still-large",M>2);M=Math.max(Z,D);g.Ed(T.element,"ytp-videowall-still-round-large",M>=256);g.Ed(T.element,"ytp-videowall-still-round-medium",M>96&&M<256);g.Ed(T.element,"ytp-videowall-still-round-small",M<=96);c=H[c];T.suggestion!==c&&(T.suggestion=c,M=T.api.K(),J=g.d0(T.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",N0(T,c,J),g.Mn(M)&&!T.api.G("web_player_log_click_before_generating_ve_conversion_params")&&(M=c.Eh(),J={},g.TC(T.api,"addEmbedsConversionTrackingParams",
[J]),M=g.gA(M,J),T.updateValue("url",M)),(c=(c=c.sessionData)&&c.itct)&&T.api.setTrackingParams(T.element,c));d++}X.ariaBusy="false";g.Ed(this.element,"ytp-endscreen-paginate",d<V);for(H=this.stills.length-1;H>=d;H--)p=this.stills[H],g.iK(p.element),g.s1(p);this.stills.length=d}};
g.h.onVideoDataChange=function(){var p=this.player.getVideoData(1);this.videoData!==p&&(p!=null&&g.B7(p)?(this.V=0,this.videoData=p,this.xE()):this.player.Ta("missg",{vid:(p==null?void 0:p.videoId)||"",cpn:(p==null?void 0:p.clientPlaybackNonce)||""}))};
g.h.G_=function(){this.V+=this.stills.length;this.xE()};
g.h.eC=function(){this.V-=this.stills.length;this.xE()};
g.h.s3=function(){return this.T.fM()};
g.h.s9=function(p){p===1?(this.W=!1,this.S=this.videoData.clientPlaybackNonce,this.T.QP(),this.n4&&this.xE()):(this.W=!0,this.n4&&Ta(this)&&(p===2?this.T.eD():p===3&&this.T.Fb()))};
g.h.Nx=function(p){if(p){for(p=0;p<this.stills.length;p++)this.N.logVisibility(this.stills[p].element,!0);this.s9(1)}else this.S=null,this.W=!1;this.xE()};
g.h.lW=function(){return this.n4&&Ta(this)};g.v(Ji,iA);Ji.prototype.hasSuggestions=function(){var p;return(p=this.T)==null?void 0:p.hasSuggestions()};
Ji.prototype.show=function(){if(this.player.getPlayerState()!==3){iA.prototype.show.call(this);var p=this.C;if(p){var C=this.T.hasSuggestions();g.Ed(this.element,"ytp-shorts-branded-ui",C);C?p.show():p.hide()}var V;(V=g.FE(this.player))==null||V.zy(!0);this.player.logVisibility(this.element,!0);this.watchButton.RH(!0)}};
Ji.prototype.hide=function(){iA.prototype.hide.call(this);var p;(p=g.FE(this.player))==null||p.zy(!1);this.player.logVisibility(this.element,!1);this.watchButton.RH(!1)};g.v(fC1,g.qA);g.h=fC1.prototype;g.h.l3=function(){var p=this.player.getVideoData(),C=p.G("embeds_enable_full_length_inline_muted_autoplay")?p.mutedAutoplay&&(p.limitedPlaybackDurationInSeconds>0||p.endSeconds>0):p.mutedAutoplay;if((this.player.isEmbedsShortsMode()||this.C)&&!C)return!0;var V;var N=!!((p==null?0:g.B7(p))||(p==null?0:(V=p.suggestions)==null?0:V.length));N=!uup(this.player)||N;p=p.Uf;V=this.player.hA();return N&&!p&&!V&&!C};
g.h.lW=function(){return this.endScreen.lW()};
g.h.E_a=function(){return this.lW()?this.endScreen.s3():!1};
g.h.CS=function(){this.player.p7("endscreen");g.qA.prototype.CS.call(this)};
g.h.load=function(){var p=this.player.getVideoData();var C=p.transitionEndpointAtEndOfStream;if(C&&C.videoId){var V=this.player.Tk().Ji.get("heartbeat"),N=g.B7(p);!N||C.videoId!==N.videoId||p.U0?(this.player.vP(C.videoId,void 0,void 0,!0,!0,C),V&&V.Xl("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),p=!0):p=!1}else p=!1;p||(g.qA.prototype.load.call(this),this.endScreen.show())};
g.h.unload=function(){g.qA.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.h.onCueRangeEnter=function(p){this.l3()&&(this.endScreen.created||this.endScreen.create(),p.getId()==="load"&&this.load())};
g.h.onCueRangeExit=function(p){p.getId()==="load"&&this.loaded&&this.unload()};
g.h.onVideoDataChange=function(){U7r(this);this.S&&ZJc(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.T?this.endScreen=new sP(this.player):this.endScreen=new c9(this.player),g.R(this,this.endScreen),g.R$(this.player,this.endScreen.element,4))};g.y$("endscreen",fC1);})(_yt_player);
